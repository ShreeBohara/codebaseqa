# ===========================================
# CodebaseQA Environment Configuration
# ===========================================
# Copy this file to .env and fill in your values
# Never commit .env to version control!

# -----------------------
# LLM Providers (at least one required)
# -----------------------
OPENAI_API_KEY=sk
# ANTHROPIC_API_KEY=sk-ant-...

# For local LLM (optional, no key needed)
# OLLAMA_BASE_URL=http://localhost:11434

# -----------------------
# Embedding Providers
# -----------------------
# Uses OpenAI by default. Uncomment to use alternatives:
# EMBEDDING_PROVIDER=openai  # openai, voyage, or local
# OPENAI_EMBEDDING_MAX_TOKENS_PER_REQUEST=250000
# OPENAI_EMBEDDING_MAX_TEXTS_PER_REQUEST=128
# OPENAI_EMBEDDING_REQUEST_CONCURRENCY=1
# VOYAGE_API_KEY=pa-...
# USE_LOCAL_EMBEDDINGS=true

# -----------------------
# GitHub (optional, for private repos)
# -----------------------
# GITHUB_TOKEN=ghp_...

# -----------------------
# Database
# -----------------------
# Defaults to SQLite. Uncomment for PostgreSQL:
DATABASE_URL=sqlite:///./data/codebaseqa.db
# DATABASE_URL=postgresql://user:pass@localhost:5432/codebaseqa

# -----------------------
# Vector Database
# -----------------------
VECTOR_DB_TYPE=chroma
# VECTOR_DB_TYPE=qdrant
# QDRANT_URL=http://localhost:6333

# -----------------------
# Application Settings
# -----------------------
DEBUG=false
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# -----------------------
# Live Demo Mode (optional)
# -----------------------
DEMO_MODE=false
SEED_DEMO=false
DEMO_REPO_URL=https://github.com/fastapi/fastapi
DEMO_REPO_OWNER=fastapi
DEMO_REPO_NAME=fastapi
DEMO_REPO_BRANCH=master
DEMO_ALLOW_PUBLIC_IMPORTS=false
DEMO_BANNER_TEXT=Live demo mode: this deployment is pinned to one featured repository. For your own repository, self-host with your API key.
DEMO_BUSY_MODE=false

# Soft guardrails for public demo traffic
DEMO_RATE_LIMIT_ENABLED=true
DEMO_RATE_LIMIT_COOLDOWN_SECONDS=30
DEMO_CHAT_REQUESTS=18
DEMO_CHAT_WINDOW_SECONDS=60
DEMO_CURRICULUM_REQUESTS=6
DEMO_CURRICULUM_WINDOW_SECONDS=60
DEMO_LESSON_REQUESTS=8
DEMO_LESSON_WINDOW_SECONDS=60
DEMO_GRAPH_REQUESTS=5
DEMO_GRAPH_WINDOW_SECONDS=60
DEMO_CHALLENGE_REQUESTS=10
DEMO_CHALLENGE_WINDOW_SECONDS=60
